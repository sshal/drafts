<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Consume Square Service</title>
    <script>
        var xmlhttp;

        function drawSquare() {
            xmlhttp = new XMLHttpRequest();
            xmlhttp.onreadystatechange = callback;
            var rows = document.getElementById('rows').value;
            var cols = document.getElementById('cols').value;
            //Use GET method
            /*
            var url = "squareService.php?rows=" + rows + "&cols=" + cols;
            xmlhttp.open("GET", url, true);
            xmlhttp.send();
            */
            //Use POST method
            var url = "squareService.php";
            xmlhttp.open("POST", url, true);
            xmlhttp.setRequestHeader("Content-type",
            "application/x-www-form-urlencoded");
            xmlhttp.send("rows=" + rows + "&cols=" + cols);
        }

        function callback() {
            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                document.getElementById("result").innerHTML =
                xmlhttp.responseText;
                console.log(xmlhttp);
            }
        }
    </script>
  </head>
  <body>
      <div id='result'></div>
      <label>Rows: <input type="text" id="rows" /></label><br/>
      Columns: <input type="text" id="cols" /><br/>
      <input type="button" value="Draw Square" onclick="drawSquare()"/>
  </body>
</html>
